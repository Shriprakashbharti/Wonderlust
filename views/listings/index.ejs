<% layout('/layouts/boilerplate') -%>

<style>

  .category-wrapper {
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
}
.home-filters{
    display: flex;
    /* flex-wrap: wrap; */
    overflow-x: auto; /* Enable horizontal scrolling */
    scroll-behavior: smooth; /* Smooth scrolling */
    scrollbar-width: none;
 
  }
  #home-filters::-webkit-scrollbar {
    display: none; /* Hide scrollbar for Chrome, Safari, and Edge */
}
  .home-filter{
    cursor: pointer;
    text-align: center;
    margin-top: 2rem;
    margin-right: 2rem;
    opacity: 0.7; 
    flex-shrink: 0; 
  }
  .home-filter p{
    font-size: 0.8rem;
  }
  .home-filter i{
    font-size: 1.5rem;
  }
 .home-filter:hover{
  opacity: 1;
 }
 .scroll-btn {
    background-color: transparent;
    border: none;
    cursor: pointer;
    padding: 10px;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 20px;
    display: none;
     /* Hidden by default */
}
@media (max-width: 1000px) {
    .scroll-btn {
        display: block;
    }
    .left {
        left: 0;
    }
    .right {
        right: 0;
    }


}
.tax-info{
  display: none;
}
.tax-toogle{
  margin-left: 14rem;
border: 1px solid rgb(177, 161, 161);
padding: 0.6rem;
border-radius: 1.6rem;
}
@media (max-width:780px) {
   .tax-toogle {
    display: none !important;
    
  }
}
</style>
<div class="category-wrapper sticky-top">
  <button class="scroll-btn left" onclick="scrollLeft()"><i class="fa-solid fa-chevron-left"></i></button>
<div class="home-filters">
 
  <div class="home-filter">
    <div><i class="fa-solid fa-fire"></i></div>
    <p>Trending</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-solid fa-bed"></i></div>
    <p>Room</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-solid fa-mountain-city"></i></div>
    <p>Icons</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-solid fa-umbrella-beach"></i></div>
    <p>Beachfront</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-solid fa-cow"></i></div>
    <p>Farms</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-solid fa-mountain"></i></div>
    <p>Islands</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-regular fa-snowflake"></i></div>
    <p>Arctic</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-solid fa-sailboat"></i></div>
    <p>Boats</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-brands fa-fort-awesome"></i></div>
    <p>Towers</p>
  </div>
  <div class="home-filter">
    <div><i class="fa-solid fa-person-swimming"></i></i></i></i></div>
    <p>Beach</p>
  </div>
  
</div>
<button class="scroll-btn right " onclick="scrollRight()"><i class="fa-solid fa-chevron-right"></i></button>
<div class="tax-toogle fs-4" id="tax-toogle">
  <div class="form-check-reverse form-switch">
    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
    <label class="form-check-label" for="flexSwitchCheckDefault">Display total taxes</label>
  </div>
</div>
</div>


    <div class="  row row-cols-lg-4 row-cols-md-3 row-cols-sm-2 ">
        <% for(let listing of allListings){ %>
            <a class="card-link" href="/listings/<%= listing._id %>">
                <div class="card col listing-card" >
                    <img  src="<%= listing.image.url %>" class=" image-hero card-img-top" alt="listings_image" style=" height: 20rem; width: 20rem;">
                    <div class="card-body">
                        <b class="card-text"><%= listing.title %></b>
                        <div class="card-img-overlay"></div>
                      <p> &#8377  <%=listing.price.toLocaleString("en-IN") %> /night
                        <i class="tax-info">  &nbsp; &nbsp; +18% GST</i>
                      </p>
                      
                    </div>
                  </div>
                  
            </a>
              <% } %>
    </div>



    <script>
      // Get the category container element
 const container = document.querySelector('.home-filters');
 
 // Scroll left by the width of one category
 function scrollLeft() {
     container.scrollBy({
         left: -container.clientWidth / 3, // Scroll by 1/3 of the container's width
         behavior: 'smooth'
     });
    
 }
 
 // Scroll right by the width of one category
 function scrollRight() {
     container.scrollBy({
         left: container.clientWidth / 3, // Scroll by 1/3 of the container's width
         behavior: 'smooth'
     });
 }


 let taxSwitch=document.getElementById("flexSwitchCheckDefault");
 taxSwitch.addEventListener('click',()=>{
  let taxInfo=document.getElementsByClassName("tax-info");
  for(info of taxInfo){
    if(info.style.display != "inline"){
      info.style.display="inline"
    }else{
      info.style.display="none"
    }
  }
 })
 </script>
